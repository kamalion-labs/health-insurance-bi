model Evento {
    id             Int             @id @default(autoincrement())
    codigo         Int
    descricao      String
    dataRealizacao DateTime
    dataPagamento  DateTime?
    quantidade     Int
    custoTotal     Float
    sinistro       Float
    teveInternacao Boolean?
    prontoSocorro  Boolean?
    UTI            Boolean?
    situacao       Situacao?
    risco          Risco?
    tipoInternacao TipoInternacao?
    tipoParto      TipoParto?

    prestador   Prestador @relation(fields: [idPrestador], references: [id])
    idPrestador Int

    CID   Cid @relation(fields: [idCid], references: [id])
    idCid Int

    especialidade   Especialidade @relation(fields: [idEspecialidade], references: [id])
    idEspecialidade Int

    tipoProcedimento   TipoProcedimento @relation(fields: [idTipoProcedimento], references: [id])
    idTipoProcedimento Int

    pessoa   Pessoa @relation(fields: [idPessoa], references: [id])
    idPessoa Int

    exame   Exame @relation(fields: [idExame], references: [id])
    idExame Int
}

model Prestador {
    id         Int         @id @default(autoincrement())
    nome       String
    UF         String?
    hospital   Boolean
    eventos    Evento[]
    liberacoes Liberacao[]
}

model Cid {
    id                 Int      @id @default(autoincrement())
    codigo             String   @unique
    descricao          String
    descricaoAbreviada String?
    eventos            Evento[]
}

model Especialidade {
    id      Int      @id @default(autoincrement())
    nome    String
    eventos Evento[]
    exames  Exame[]
}

model Exame {
    id      Int      @id @default(autoincrement())
    nome    String
    eventos Evento[]

    especialidade   Especialidade @relation(fields: [idEspecialidade], references: [id])
    idEspecialidade Int

    categoria   Categoria @relation(fields: [idCategoria], references: [id])
    idCategoria Int
}

model TipoProcedimento {
    id      Int      @id @default(autoincrement())
    nome    String
    eventos Evento[]

    categoria   Categoria @relation(fields: [idCategoria], references: [id])
    idCategoria Int
}

model Categoria {
    id                Int                @id @default(autoincrement())
    nome              String
    tiposProcedimento TipoProcedimento[]
    exames            Exame[]
    subcategorias     SubCategoria[]
}

model SubCategoria {
    id   Int    @id @default(autoincrement())
    nome String

    categoria   Categoria @relation(fields: [idCategoria], references: [id])
    idCategoria Int
}

model Liberacao {
    id                   Int               @id @default(autoincrement())
    certificado          Int
    dependencia          Int?
    contrato             Int?
    subfatura            Int?
    senha                String?
    diasSolicitacaoSenha Int?
    diasLiberacaoSenha   Int?
    situacaoSenha        SituacaoSenha?
    possuiLiminar        Boolean?
    regimeInternacao     RegimeInternacao?
    dataSolicitacao      DateTime?
    dataInternacao       DateTime?

    plano   Plano @relation(fields: [idPlano], references: [id])
    idPlano Int

    prestador   Prestador @relation(fields: [idPrestador], references: [id])
    idPrestador Int
}

enum Situacao {
    PENDENTE
    LIBERADA
    NEGADA
    CANCELADA
}

enum Risco {
    BAIXO
    MEDIO
    ALTO
}

enum TipoInternacao {
    CLINICA
    CIRURGICA
    OBSTETRICA
    PSIQUIATRICA
    PEDIATRICA
}

enum TipoParto {
    CESAREO
    VAGINAL
}

enum SituacaoSenha {
    LIBERADA
    NEGADA
}

enum RegimeInternacao {
    HOSPITALAR
    HOSPITAL_DIA
}
