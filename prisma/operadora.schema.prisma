model Operadora {
  id       Int                @id @default(autoincrement())
  nome     String
  arquivos ArquivoOperadora[]
}

model ArquivoOperadora {
  id        Int                  @id @default(autoincrement())
  nome      String
  tipo      TipoArquivoOperadora @default(txt)
  separador String
  tabela    String

  operadora   Operadora @relation(fields: [idOperadora], references: [id])
  idOperadora Int

  colunas ColunaArquivo[]
}

enum TipoArquivoOperadora {
  txt
  csv
  xls
  xlsx
}

model ColunaArquivo {
  id      Int        @id @default(autoincrement())
  nome    String
  coluna  String
  tipo    TipoColuna
  posicao Int?
  inicio  Int?
  fim     Int?

  referenciaTabela String?
  referenciaColuna String?

  arquivoOperadora   ArquivoOperadora @relation(fields: [idArquivoOperadora], references: [id])
  idArquivoOperadora Int
}

enum TipoColuna {
  string
  number
  date
  mesAno
  referencia
}
